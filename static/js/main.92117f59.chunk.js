(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/(1).d83021ea.jpg"},101:function(e,t,a){e.exports=a.p+"static/media/(2).0c7849a6.jpg"},102:function(e,t,a){e.exports=a.p+"static/media/(3).4b236b56.jpg"},103:function(e,t,a){e.exports=a.p+"static/media/(4).3f64cb77.jpg"},104:function(e,t,a){e.exports=a.p+"static/media/(5).6c9c1851.jpg"},105:function(e,t,a){e.exports=a.p+"static/media/(6).9e8744f3.jpg"},106:function(e,t,a){e.exports=a.p+"static/media/(7).1af0bf4a.jpg"},107:function(e,t,a){e.exports=a.p+"static/media/(8).28d42377.jpg"},108:function(e,t,a){e.exports=a.p+"static/media/(9).91b8662e.jpg"},112:function(e,t,a){e.exports=a(212)},121:function(e,t,a){},140:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"signIn",(function(){return w})),a.d(n,"signUp",(function(){return M})),a.d(n,"auth",(function(){return U})),a.d(n,"logOut",(function(){return D})),a.d(n,"checkLogin",(function(){return R})),a.d(n,"getUserInfo",(function(){return G})),a.d(n,"changeUserPassword",(function(){return F})),a.d(n,"getAuthors",(function(){return x}));var r={};a.r(r),a.d(r,"getList",(function(){return W})),a.d(r,"getPostById",(function(){return K})),a.d(r,"sendNewPost",(function(){return Q})),a.d(r,"addLike",(function(){return H})),a.d(r,"addDislike",(function(){return Y})),a.d(r,"deletePost",(function(){return B}));var o={};a.r(o),a.d(o,"changeFieldAction",(function(){return V})),a.d(o,"signUp",(function(){return X})),a.d(o,"checkLogin",(function(){return z}));var s={};a.r(s),a.d(s,"changeFieldAction",(function(){return oe})),a.d(s,"signInAction",(function(){return se}));var c={};a.r(c),a.d(c,"getUsers",(function(){return Pe})),a.d(c,"setDefault",(function(){return be}));var i={};a.r(i),a.d(i,"changePostTitle",(function(){return De})),a.d(i,"changeMessagePost",(function(){return Re})),a.d(i,"sendNewPost",(function(){return Ge}));var l={};a.r(l),a.d(l,"auth",(function(){return We})),a.d(l,"logOut",(function(){return Ke})),a.d(l,"increaseLike",(function(){return Qe})),a.d(l,"increaseDislike",(function(){return He}));var u={};a.r(u),a.d(u,"getInitPostsAction",(function(){return Ye})),a.d(u,"getScrollPostsAction",(function(){return Be})),a.d(u,"increaseLike",(function(){return qe})),a.d(u,"increaseDislike",(function(){return Je})),a.d(u,"deletePostItem",(function(){return Ve})),a.d(u,"didMountModalMessage",(function(){return Xe})),a.d(u,"setStateDefault",(function(){return ze}));var p={};a.r(p),a.d(p,"getSinglePostAction",(function(){return lt})),a.d(p,"increaseLike",(function(){return ut})),a.d(p,"increaseDislike",(function(){return pt})),a.d(p,"deletePostItem",(function(){return dt})),a.d(p,"didMountModalMessage",(function(){return mt})),a.d(p,"unMountPostAction",(function(){return Et}));var d={};a.r(d),a.d(d,"getInitMyPost",(function(){return Kt})),a.d(d,"getScrollPostsAction",(function(){return Qt})),a.d(d,"increaseLike",(function(){return Ht})),a.d(d,"increaseDislike",(function(){return Yt})),a.d(d,"deletePostItem",(function(){return Bt})),a.d(d,"setStateDefault",(function(){return qt})),a.d(d,"didMountModalMessage",(function(){return Jt}));var m={};a.r(m),a.d(m,"getUserInfo",(function(){return $t})),a.d(m,"openModalWindow",(function(){return ea})),a.d(m,"closeModalWindow",(function(){return ta})),a.d(m,"changeDataForm",(function(){return aa})),a.d(m,"sendChangePassword",(function(){return na})),a.d(m,"modalMessageClose",(function(){return ra}));var E=a(0),f=a.n(E),S=a(27),h=a.n(S),v=a(9),O=a(4),g=a(5),_=a(7),y=a(6),P=(a(121),a(46)),b=a.n(P),L=a(62),T=a.n(L),C=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){var a=t.target.value,n=e.props,r=n.id;(0,n.onChange)({fieldId:r,value:a})},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.value;return f.a.createElement("input",{className:"".concat(T.a.input," ").concat(this.props.error&&T.a.error),type:"text",value:e,onChange:this.onChange,onBlur:this.props.onBlur,onFocus:this.onFocus})}}]),a}(E.Component),A=a(1),I=a.n(A),N=a(3),k=a(95),j=a.n(k).a.create({baseURL:"http://school-blog.ru/api/",timeout:5e3,withCredentials:!0});function w(e){return j({url:"users/signin",method:"POST",data:e})}function M(e){return j({url:"users/signup",method:"POST",data:e})}function U(){return j({url:"users/auth",method:"GET"})}function D(){return j({url:"users/signout",method:"GET"})}function R(e){return j({url:"users/check-exists/",method:"POST",data:{login:e}})}function G(e){return j({url:"users/".concat(e),method:"GET"})}function F(e){return j({url:"users/change/password/",method:"PUT",data:e})}function x(){return j({url:"users",method:"GET"})}function W(e){return j({url:"posts/",method:"GET",params:e})}function K(e){return j({url:"posts/".concat(e),method:"GET"})}function Q(e){return j({url:"posts/",method:"POST",data:e})}function H(e){return j({url:"posts/like/".concat(e),method:"PUT"})}function Y(e){return j({url:"posts/dislike/".concat(e),method:"PUT"})}function B(e){return j({url:"posts/".concat(e),method:"DELETE"})}var q={user:n,posts:r},J=a(11),V=function(e){return{type:"SIGN-UP_CHANGE_DATA_FORM",payload:{fieldId:e.fieldId,value:e.value}}},X=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SIGN-UP_REQUEST"}),t.next=4,q.user.signUp(e);case 4:n=t.sent,a({type:"SIGN-UP_SUCCESS",payload:n.data}),a({type:"HEADER_CHANGE_ACTIVE_LINK",payload:"home"}),a(Object(J.d)("/")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response.data&&a({type:"SIGN-UP_FAIL",payload:t.t0.response.data}),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SIGN-UP_CHECKLOGIN_REQUEST"}),t.next=4,q.user.checkLogin(e);case 4:n=t.sent,a({type:"SIGN-UP_CHECKLOGIN_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"SIGN-UP_CHECKLOGIN_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Z=a(21),$=a.n(Z),ee=a(15);a(140);var te=function(e){return f.a.createElement("button",{onClick:e.onClick},e.name)},ae=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeIsRequired=function(e){return!0===e?f.a.createElement("p",{className:$.a.error},"is required"):"not unique"===e?f.a.createElement("p",{className:$.a.error},"not unique"):void 0},e.changeErr=function(e){if(!1!==e)return"error"},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props.errors,a=t.login,n=t.email,r=t.firstName,o=t.password;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:$.a.input},f.a.createElement("div",null,f.a.createElement("div",{className:$.a.placeholder},f.a.createElement("p",null,"login"),this.changeIsRequired(a)),f.a.createElement(C,{id:"login",value:this.props.dataForm.login,onChange:this.props.changeFieldAction,onBlur:function(){e.props.checkLogin(e.props.dataForm.login)},error:this.changeErr(a)})),f.a.createElement("div",null,f.a.createElement("div",{className:$.a.placeholder},f.a.createElement("p",null,"e-mail"),this.changeIsRequired(n)),f.a.createElement(C,{id:"email",value:this.props.dataForm.email,onChange:this.props.changeFieldAction,error:this.changeErr(n)})),f.a.createElement("div",null,f.a.createElement("div",{className:$.a.placeholder},f.a.createElement("p",null,"firstname"),this.changeIsRequired(r)),f.a.createElement(C,{id:"firstName",value:this.props.dataForm.firstName,onChange:this.props.changeFieldAction,error:this.changeErr(r)})),f.a.createElement("div",null,f.a.createElement("div",{className:$.a.placeholder},f.a.createElement("p",null,"password"),this.changeIsRequired(o)),f.a.createElement(C,{id:"password",value:this.props.dataForm.password,onChange:this.props.changeFieldAction,error:this.changeErr(o)}))),f.a.createElement("div",{className:$.a.buttonSing},f.a.createElement("div",{className:$.a.left},f.a.createElement(ee.a,{to:"/auth/sign-in"},f.a.createElement(te,{name:"Sing-In?"}))),f.a.createElement("div",{className:$.a.right},f.a.createElement(te,{onClick:function(){e.props.signUp(e.props.dataForm)},name:"Sing-Up"}))))}}]),a}(E.Component),ne=Object(v.c)((function(e){return{dataForm:e.singUp.dataForm,errors:e.singUp.errors}}),o)(ae),re=a(18),oe=function(e){return{type:"SIGN-IN_CHANGE_DATA_FORM",payload:{fieldId:e.fieldId,value:e.value}}},se=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SIGN-IN_REQUEST"}),t.next=4,q.user.signIn(e);case 4:n=t.sent,a({type:"SIGN-IN_SUCCESS",payload:n.data}),a(Object(J.d)("/")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response&&a({type:"SIGN-IN_FAIL",payload:t.t0.response});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ce=a(22),ie=a.n(ce),le=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(){var t=e.props.dataForm;e.props.signInAction(t)},e.changeIsRequired=function(e){switch(e){case 400:return f.a.createElement("p",{className:ie.a.error},"is required");case 401:return f.a.createElement("p",{className:ie.a.error},"incorrect")}},e.changeErr=function(e){if(!1!==e)return"error"},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.errors,t=e.login,a=e.password;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:ie.a.input},f.a.createElement("div",{className:ie.a.inputDiv},f.a.createElement("div",{className:ie.a.placeholder},f.a.createElement("p",null,"login"),this.changeIsRequired(t)),f.a.createElement(C,{id:"login",value:this.props.dataForm.login,onChange:this.props.changeFieldAction,error:this.changeErr(t)})),f.a.createElement("div",{className:ie.a.inputDiv},f.a.createElement("div",{className:ie.a.placeholder},f.a.createElement("p",null,"password"),this.changeIsRequired(a)),f.a.createElement(C,{id:"password",value:this.props.dataForm.password,onChange:this.props.changeFieldAction,error:this.changeErr(a)}))),f.a.createElement("div",{className:ie.a.buttonSing},f.a.createElement("div",{className:ie.a.left},f.a.createElement(ee.a,{to:"/auth/sign-up"},f.a.createElement(te,{name:"Sing-Up?"}))),f.a.createElement("div",{className:ie.a.right},f.a.createElement(te,{name:"Sing-In",onClick:this.onSubmit}))))}}]),a}(E.Component),ue=Object(v.c)((function(e){return{dataForm:e.signIn.dataForm,errors:e.signIn.errors}}),s)(le),pe=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return f.a.createElement("div",{className:b.a.wrapper},f.a.createElement("div",{className:b.a.form},f.a.createElement("h1",null,"THE BLOG"),f.a.createElement("div",{className:b.a.components},f.a.createElement(re.c,null,f.a.createElement(re.a,{path:"/auth/sign-in",exact:!0,component:ue}),f.a.createElement(re.a,{path:"/auth/sign-up",exact:!0,component:ne})))))}}]),a}(E.Component),de=a(47),me=a.n(de),Ee=a(28),fe=a.n(Ee),Se=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return f.a.createElement("div",{className:fe.a.menu},f.a.createElement("div",{className:fe.a.profile},f.a.createElement("h1",null,"Hello,"),f.a.createElement("div",{className:fe.a.avatar},f.a.createElement("img",{src:this.props.avatar,alt:"no-avatar"})),f.a.createElement("h2",null,this.props.login),"Log out"===this.props.button?f.a.createElement(te,{onClick:this.props.logout,name:this.props.button}):f.a.createElement(ee.a,{to:"/auth/sign-in"},f.a.createElement(te,{name:this.props.button}))),f.a.createElement("div",{className:fe.a.nav},this.props.link.map((function(e){return f.a.createElement(ee.a,{key:e.name,to:e.to,id:e.id,className:e.className},e.name)}))),f.a.createElement("div",null,f.a.createElement("p",{className:fe.a.copyright},f.a.createElement("i",{className:"far fa-copyright"})," 2020. ",f.a.createElement("br",null)," All rights reserved.")))}}]),a}(E.Component),he=a(97),ve=a.n(he),Oe=[{name:"Home",to:"/"},{name:"Registration",to:"/auth/sign-up"},{name:"My posts",to:"/my-posts"},{name:"Add post",to:"/new-post/"},{name:"Profile",to:"/profile"},{name:"About",to:"/about"}];function ge(e){var t=e.user,a=function(e,t,a){var n=[];return void 0!==e&&null!==e?a.forEach((function(e){"Registration"!==e.name&&n.push(e)})):a.forEach((function(e){"Add post"!==e.name&&"My posts"!==e.name&&"Profile"!==e.name&&n.push(e)})),n.map((function(e){e.className&&delete e.className,e.to===t&&(e.className=fe.a.active)})),n}(t,e.activeLink,Oe);return void 0!==t&&null!==t?f.a.createElement(Se,{login:t.login,avatar:"http://school-blog.ru/images/".concat(t.avatar),button:"Log out",logout:e.logout,link:a}):f.a.createElement(Se,{login:"NoName",avatar:ve.a,button:"Sign In",link:a})}var _e=a(33),ye=a.n(_e),Pe=function(){return function(){var e=Object(N.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ABOUT_GET_USERS_REQUEST"}),e.next=4,q.user.getAuthors();case 4:a=e.sent,t({type:"ABOUT_GET_USERS_SUCCESS",payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"ABOUT_GET_USERS_FAIL"}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},be=function(){return{type:"ABOUT_SET_DEFAULT"}},Le=a(65),Te=a.n(Le);function Ce(e){return f.a.createElement("div",{className:Te.a.author},f.a.createElement("div",{className:Te.a.avatar},f.a.createElement("img",{src:"http://school-blog.ru/images/".concat(e.avatar),alt:""})),f.a.createElement("h3",null,e.login),f.a.createElement("p",null,e.firstName),f.a.createElement("p",null,e.email),f.a.createElement("p",null,e.registration))}var Ae=a(98),Ie=a.n(Ae);function Ne(){return f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto",background:"none",WebkitAnimationPlayState:"running",animationPlayState:"running",WebkitAnimationDelay:"0s",animationDelay:"0s"},width:"150",height:"150",display:"block",preserveAspectRatio:"xMidYMid",viewBox:"0 0 100 100"},f.a.createElement("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"#2b2b2b",strokeDasharray:"47.12388980384689 47.12388980384689",strokeLinecap:"round",strokeWidth:"8",style:{WebkitAnimationPlayState:"running",animationPlayState:"running",WebkitAnimationDelay:"0s",animationDelay:"0s"},transform:"rotate(241.861 50 50)"},f.a.createElement("animateTransform",{attributeName:"transform",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"})),f.a.createElement("circle",{cx:"50",cy:"50",r:"21",fill:"none",stroke:"#737373",strokeDasharray:"32.98672286269283 32.98672286269283",strokeDashoffset:"32.987",strokeLinecap:"round",strokeWidth:"8",style:{WebkitAnimationPlayState:"running",animationPlayState:"running",WebkitAnimationDelay:"0s",animationDelay:"0s"},transform:"rotate(-241.861 50 50)"},f.a.createElement("animateTransform",{attributeName:"transform",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;-360 50 50"})))}function ke(){return f.a.createElement("div",{className:Ie.a.loader},f.a.createElement(Ne,null))}var je=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getRandomAuthors=function(){var t=[],a=e.props.authors;if(0!==a.length)for(var n=0;n<4;n++){var r=a[Math.floor(Math.random()*Math.floor(a.length))];t.includes(r)?n--:t.push(r)}return t},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"componentWillUnmount",value:function(){this.props.setDefault()}},{key:"render",value:function(){var e=this.props.authors;return f.a.createElement("div",{className:ye.a.page},f.a.createElement("h1",null,"About Us"),f.a.createElement("div",{className:ye.a.profit},f.a.createElement("div",null,f.a.createElement("i",{className:"far fa-comments"}),f.a.createElement("h2",null,"Clean & Clear Content"),f.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies eu metus non bibendum. Maecenas volutpat magna tristique ex vulputate.")),f.a.createElement("div",null,f.a.createElement("i",{className:"fas fa-users"}),f.a.createElement("h2",null,"A Lot Of Readers"),f.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies eu metus non bibendum. Maecenas volutpat magna tristique ex vulputate.")),f.a.createElement("div",null,f.a.createElement("i",{className:"fas fa-chart-line"}),f.a.createElement("h2",null,"Drive SEO Result"),f.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies eu metus non bibendum. Maecenas volutpat magna tristique ex vulputate."))),f.a.createElement("h2",{className:ye.a.header},"Meet Our Authors"),f.a.createElement("p",{className:ye.a.description},"A wonderful serenity has taken possession of my entire soul, like these sweet mornings of spring which I enjoy with my whole heart. I am alone."),f.a.createElement("div",{className:ye.a.authors},e.length>0?this.getRandomAuthors().map((function(e){return f.a.createElement(Ce,{avatar:e.avatar,key:e.id,login:e.login,firstName:e.firstName,email:e.email,registration:e.registrationDate.slice(0,10)})})):f.a.createElement(ke,null)))}}]),a}(E.Component),we=Object(v.c)((function(e){return{authors:e.about.authors}}),c)(je),Me=a(66),Ue=a.n(Me),De=function(e){return{type:"ADD-POST_CHANGE_POST_TITLE",title:e}},Re=function(e){return{type:"ADD-POST_CHANGE_POST_MESSAGE",content:e}};function Ge(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"NEW-POST-PAGE_REQUEST"}),t.next=4,q.posts.sendNewPost(e);case 4:n=t.sent,a({type:"NEW-POST-PAGE-SUCCESS",payload:n.data}),a(Object(J.d)("/")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"NEW-POST-PAGE-FAIL"}),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}var Fe=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:Ue.a.wrapper},f.a.createElement("div",{className:Ue.a.form},f.a.createElement("h1",null,"Add post"),f.a.createElement("input",{type:"text",placeholder:"header",onChange:function(t){e.props.changePostTitle(t.target.value)},value:this.props.newPostPage.title}),f.a.createElement("textarea",{name:"message",id:"post",cols:"30",rows:"8",placeholder:"message",onChange:function(t){e.props.changeMessagePost(t.target.value)},value:this.props.newPostPage.content}),f.a.createElement(te,{name:"Submit",onClick:function(){e.props.sendNewPost(e.props.newPostPage)}})))}}]),a}(E.Component),xe=Object(v.c)((function(e){return{newPostPage:e.newPostPage.dataForm}}),i)(Fe),We=function(){return function(){var e=Object(N.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.user.auth();case 3:a=e.sent,t({type:"APPLICATION-AUTH",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ke=function(){return function(){var e=Object(N.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.user.logOut();case 3:a=e.sent,t({type:"APPLICATION-LOGOUT",payload:a}),t(Object(J.d)("/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Qe=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"INCREASE_LIKE_REQUEST"}),t.next=4,q.posts.addLike(e);case 4:n=t.sent,a({type:"INCREASE_LIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"INCREASE_LIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},He=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"INCREASE_DISLIKE_REQUEST"}),t.next=4,q.posts.addDislike(e);case 4:n=t.sent,a({type:"INCREASE_DISLIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"INCREASE_DISLIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ye=function(){return function(){var e=Object(N.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL-POST_INIT_GET_POSTS_REQUESTS"}),e.next=4,q.posts.getList({offsetStep:10});case 4:a=e.sent,t({type:"ALL-POST_INIT_GET_POSTS_SUCCESS",payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"ALL-POST_INIT_GET_POSTS_FAIL"}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Be=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ALL-POST_SCROLL_GET_POSTS_REQUESTS"}),t.next=4,q.posts.getList({offset:e,offsetStep:5});case 4:n=t.sent,a({type:"ALL-POST_SCROLL_GET_POSTS_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"ALL-POST_SCROLL_GET_POSTS_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},qe=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ALL-POST_INCREASE_LIKE_REQUEST"}),t.next=4,q.posts.addLike(e);case 4:n=t.sent,a({type:"ALL-POST_INCREASE_LIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"ALL-POST_INCREASE_LIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Je=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ALL-POST_INCREASE_DISLIKE_REQUEST"}),t.next=4,q.posts.addDislike(e);case 4:n=t.sent,a({type:"ALL-POST_INCREASE_DISLIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"ALL-POST_INCREASE_DISLIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ve=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ALL-POST_DELETE_POST_REQUEST"}),t.next=4,q.posts.deletePost(e);case 4:n=t.sent,a({type:"ALL-POST_DELETE_POST_SUCCESS",payload:n.data}),a({type:"ALL-POST_SHOW_MODAL_MESSAGE"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Xe=function(){return{type:"ALL-POST_CLOSE_MODAL_MESSAGE"}},ze=function(){return{type:"ALL-POST_STATE_TO_DEFAULT"}},Ze=a(29),$e=a.n(Ze),et=a(19),tt=a.n(et);function at(e){return f.a.createElement("div",{className:tt.a.item},f.a.createElement("div",{className:tt.a.postImg},f.a.createElement(ee.a,{to:"/post/".concat(e.id)},f.a.createElement("img",{src:e.img,alt:"no-img"})),f.a.createElement("div",{className:tt.a.likes},f.a.createElement("button",{onClick:e.onLike},f.a.createElement("i",{className:"far fa-heart"}),f.a.createElement("span",null,e.likesCount)),f.a.createElement("button",{onClick:e.onDislike},f.a.createElement("i",{className:"fas fa-heart-broken"}),f.a.createElement("span",null,e.dislikesCount))),e.author&&f.a.createElement("div",{className:tt.a.deleteButton},f.a.createElement("button",{onClick:e.onDelete},f.a.createElement("i",{className:"far fa-trash-alt"})))),f.a.createElement(ee.a,{to:"/post/".concat(e.id),className:tt.a.title},e.title),f.a.createElement("div",{className:tt.a.postInfo},f.a.createElement("div",{className:tt.a.after},f.a.createElement("div",{className:tt.a.author},f.a.createElement("div",{className:tt.a.ava},f.a.createElement("img",{src:e.avatar,alt:""})),f.a.createElement("span",null,e.login))),f.a.createElement("span",{className:tt.a.after},e.data),f.a.createElement("span",null,"\u2116",e.number)),f.a.createElement("div",{className:tt.a.content},e.content))}var nt=a(99),rt=a.n(nt),ot=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.didMountModalMessage()}),4e3)}},{key:"render",value:function(){return f.a.createElement("div",{className:rt.a.wrapper},this.props.content)}}]),a}(E.Component),st=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).elem=document.createElement("div"),document.body.append(n.elem),n}return Object(g.a)(a,[{key:"componentWillUnmount",value:function(){this.elem.remove()}},{key:"render",value:function(){return Object(S.createPortal)(f.a.createElement(ot,this.props),this.elem)}}]),a}(E.Component),ct=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onScroll=function(){var t=e.props,a=t.posts,n=t.isLoading,r=t.end,o=a.length,s=document.documentElement.clientHeight;document.getElementById("all-posts").getBoundingClientRect().bottom<=s+s/10&&!n&&!r&&(console.log("loading"),e.props.getScrollPostsAction(o))},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.getInitPostsAction()}},{key:"componentWillUnmount",value:function(){this.props.setStateDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.posts,r=t.modalMessage;return f.a.createElement("div",{className:$e.a.wrapper,onScroll:this.onScroll},f.a.createElement("h1",{className:$e.a.header},"All Posts"),f.a.createElement("div",{id:"all-posts",className:$e.a.allPosts},n.length<1?f.a.createElement(ke,null):n.map((function(t){return f.a.createElement(at,{key:t.id,id:t.id,title:t.title,login:t.author.login,data:t.date.slice(0,10),number:t.postNumber,content:t.content,likesCount:t.likesCount,dislikesCount:t.dislikesCount,avatar:"http://school-blog.ru/images/".concat(t.author.avatar),img:t.img,onLike:function(){e.props.increaseLike(t.id)},onDislike:function(){e.props.increaseDislike(t.id)},onDelete:function(){e.props.deletePostItem(t.id)},author:null!=e.props.user&&e.props.user.id===t.author.id&&e.props.user.id})}))),a&&n.length>0&&f.a.createElement(ke,null),r&&f.a.createElement(st,{content:f.a.createElement("p",null,"Post delete"),didMountModalMessage:function(){return e.props.didMountModalMessage()}}))}}]),a}(E.Component),it=Object(v.c)((function(e){return{user:e.app.user,posts:e.allPosts.posts,isLoading:e.allPosts.isLoading,end:e.allPosts.end,modalMessage:e.allPosts.modalMessage}}),u)(ct),lt=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"POST-PAGE_GET_REQUEST"}),t.next=4,q.posts.getPostById(e);case 4:n=t.sent,a({type:"POST-PAGE_GET_DATA_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"POST-PAGE_GET_REQUEST_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ut=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"POST-PAGE_INCREASE_LIKE_REQUEST"}),t.next=4,q.posts.addLike(e);case 4:n=t.sent,a({type:"POST-PAGE_INCREASE_LIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"POST-PAGE_INCREASE_LIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},pt=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"POST-PAGE_INCREASE_DISLIKE_REQUEST"}),t.next=4,q.posts.addDislike(e);case 4:n=t.sent,a({type:"POST-PAGE_INCREASE_DISLIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"POST-PAGE_INCREASE_DISLIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},dt=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"POST-PAGE_DELETE_POST_REQUEST"}),t.next=4,q.posts.deletePost(e);case 4:n=t.sent,a({type:"POST-PAGE_DELETE_POST_SUCCESS",payload:n.data}),a({type:"POST_SHOW_MODAL_MESSAGE"}),a(Object(J.d)("/")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},mt=function(){return{type:"POST_CLOSE_MODAL_MESSAGE"}},Et=function(){return{type:"POST-PAGE_UNMOUNT"}},ft=a(48),St=a.n(ft);var ht=function(){return f.a.createElement("div",{className:St.a.wrapper},f.a.createElement("div",{className:St.a.form},f.a.createElement("div",{className:St.a.loader},f.a.createElement(ke,null)),f.a.createElement("p",null,"Loading")))},vt=a(100),Ot=a.n(vt),gt=a(101),_t=a.n(gt),yt=a(102),Pt=a.n(yt),bt=a(103),Lt=a.n(bt),Tt=a(104),Ct=a.n(Tt),At=a(105),It=a.n(At),Nt=a(106),kt=a.n(Nt),jt=a(107),wt=a.n(jt),Mt=a(108),Ut=a.n(Mt);function Dt(){return[Ot.a,_t.a,Pt.a,Lt.a,Ct.a,It.a,kt.a,wt.a,Ut.a][Math.floor(Math.random()*Math.floor(8))]}var Rt=a(17),Gt=a.n(Rt);function Ft(e){return f.a.createElement("div",null,f.a.createElement("h1",{className:Gt.a.title},e.title),f.a.createElement("div",{className:Gt.a.item},f.a.createElement("div",{className:Gt.a.postImg},f.a.createElement("div",{className:Gt.a.imgOverflow},f.a.createElement("img",{src:e.img,alt:"no-img"}),f.a.createElement("div",null,f.a.createElement("div",{className:Gt.a.likes},f.a.createElement("button",{onClick:e.onLike},f.a.createElement("i",{className:"far fa-heart"}),f.a.createElement("span",null,e.likesCount)),f.a.createElement("button",{onClick:e.onDislike},f.a.createElement("i",{className:"fas fa-heart-broken"}),f.a.createElement("span",null,e.dislikesCount))),e.author&&f.a.createElement("div",{className:Gt.a.deleteButton},f.a.createElement("button",{onClick:e.onDelete},f.a.createElement("i",{className:"far fa-trash-alt"})))))),f.a.createElement("div",{className:Gt.a.postInfo},f.a.createElement("div",{className:Gt.a.after},f.a.createElement("div",{className:Gt.a.author},f.a.createElement("div",{className:Gt.a.ava},f.a.createElement("img",{src:e.avatar,alt:""})),f.a.createElement("span",null,e.login))),f.a.createElement("span",{className:Gt.a.after},e.data),f.a.createElement("span",null,"\u2116",e.number)),f.a.createElement("div",{className:Gt.a.content},e.content)))}var xt=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match;this.props.getSinglePostAction(e.params.id)}},{key:"componentWillUnmount",value:function(){this.props.unMountPostAction()}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.user,r=t.modalMessage;return f.a.createElement(f.a.Fragment,null,a?f.a.createElement(f.a.Fragment,null,f.a.createElement(Ft,{id:a.id,title:a.title,login:a.author.login,data:a.date.slice(0,10),number:a.postNumber,content:a.content,dislikesCount:a.dislikesCount,likesCount:a.likesCount,avatar:"http://school-blog.ru/images/".concat(a.author.avatar),img:Dt(),onLike:function(){e.props.increaseLike(a.id)},onDislike:function(){e.props.increaseDislike(a.id)},onDelete:function(){e.props.deletePostItem(a.id)},author:null!=n&&n.id===a.author.id&&this.props.user.id})):f.a.createElement(ht,null),r&&f.a.createElement(st,{content:f.a.createElement("p",null,"Post delete"),didMountModalMessage:function(){return e.props.didMountModalMessage()}}))}}]),a}(E.Component),Wt=Object(v.c)((function(e){return{data:e.post.data,modalMessage:e.post.modalMessage,user:e.app.user}}),p)(xt),Kt=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"MY-POST_INIT_REQUEST"}),t.next=4,q.posts.getList({authorId:e});case 4:n=t.sent,a({type:"MY-POST_INIT_REQUEST_SUCCESS",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"MY-POST_INIT_REQUEST_FAIL"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Qt=function(e,t){return function(){var a=Object(N.a)(I.a.mark((function a(n){var r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"MY-POST_SCROLL_GET_POSTS_REQUESTS"}),a.next=4,q.posts.getList({authorId:e,offset:t,offsetStep:5});case 4:r=a.sent,n({type:"MY-POST_SCROLL_GET_POSTS_SUCCESS",payload:r.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"MY-POST_SCROLL_GET_POSTS_FAIL"}),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Ht=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"MY-POST_INCREASE_LIKE_REQUEST"}),t.next=4,q.posts.addLike(e);case 4:n=t.sent,a({type:"MY-POST_INCREASE_LIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"MY-POST_INCREASE_LIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Yt=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"MY-POST_INCREASE_DISLIKE_REQUEST"}),t.next=4,q.posts.addDislike(e);case 4:n=t.sent,a({type:"MY-POST_INCREASE_DISLIKE_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"MY-POST_INCREASE_DISLIKE_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Bt=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"MY-POST_DELETE_POST_REQUEST"}),t.next=4,q.posts.deletePost(e);case 4:n=t.sent,a({type:"MY-POST_DELETE_POST_SUCCESS",payload:n.data}),a({type:"MY-POST_SHOW_MODAL_MESSAGE"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},qt=function(){return{type:"MY-POST_STATE_TO_DEFAULT"}},Jt=function(){return{type:"MY-POST_CLOSE_MODAL_MESSAGE"}},Vt=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onScroll=function(t){var a=e.props,n=a.myPosts,r=a.isLoading,o=a.user,s=a.end,c=n.length,i=o.id,l=document.documentElement.clientHeight;document.getElementById("my-posts").getBoundingClientRect().bottom<=l+l/10&&!r&&!s&&(console.log("loading"),e.props.getScrollPostsAction(i,c))},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(null!==this.props.user){var t=this.props.user.id;this.props.getInitMyPost(t)}else setTimeout((function(){var t=e.props.user.id;e.props.getInitMyPost(t)}),2e3)}},{key:"componentWillUnmount",value:function(){this.props.setStateDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.myPosts,n=t.isLoading,r=t.modalMessage;return f.a.createElement("div",{className:$e.a.wrapper,onScroll:this.onScroll},f.a.createElement("h1",{className:$e.a.header},"My Posts"),f.a.createElement("div",{id:"my-posts",className:$e.a.allPosts},a.length<1?f.a.createElement(ke,null):a.map((function(t){return f.a.createElement(at,{key:t.id,id:t.id,title:t.title,login:t.author.login,data:t.date.slice(0,10),number:t.postNumber,content:t.content,likesCount:t.likesCount,dislikesCount:t.dislikesCount,avatar:"http://school-blog.ru/images/".concat(t.author.avatar),img:Dt(),onLike:function(){e.props.increaseLike(t.id)},onDislike:function(){e.props.increaseDislike(t.id)},onDelete:function(){e.props.deletePostItem(t.id)},author:t.author.id})}))),n&&a.length>0&&f.a.createElement(ke,null),r&&f.a.createElement(st,{content:f.a.createElement("p",null,"Post delete"),didMountModalMessage:function(){return e.props.didMountModalMessage()}}))}}]),a}(E.Component),Xt=Object(v.c)((function(e){return{myPosts:e.myPosts.myPosts,isLoading:e.myPosts.isLoading,end:e.myPosts.end,modalMessage:e.myPosts.modalMessage,user:e.app.user}}),d)(Vt),zt=a(37),Zt=a.n(zt),$t=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PROFILE_GET_REQUEST"}),t.next=4,q.user.getUserInfo(e);case 4:n=t.sent,a({type:"PROFILE_GET_REQUEST_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"PROFILE_GET_REQUEST_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ea=function(){return{type:"PROFILE_MODAL_WINDOW_OPEN"}},ta=function(){return{type:"PROFILE_MODAL_WINDOW_CLOSE"}},aa=function(e){return{type:"PROFILE_CHANGE_PASSWORD_FORM",payload:{fieldId:e.fieldId,value:e.value}}},na=function(e){return function(){var t=Object(N.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PROFILE_CHANGE_PASSWORD_REQUEST"}),t.next=4,q.user.changeUserPassword(e);case 4:n=t.sent,a({type:"PROFILE_CHANGE_PASSWORD_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"PROFILE_CHANGE_PASSWORD_FAIL"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ra=function(){return{type:"PROFILE_MODAL_MESSAGE_CLOSE"}},oa=a(30),sa=a.n(oa);function ca(e){return f.a.createElement("div",{className:sa.a.wrapper,onClick:e.onClose},f.a.createElement("div",{className:sa.a.modalForm,onClick:function(e){e.preventDefault(),e.stopPropagation()}},f.a.createElement("div",{className:sa.a.inputDiv},f.a.createElement("div",{className:sa.a.placeholder},f.a.createElement("p",null,"current"),e.notificationErrors(e.errors.currentPassword)),f.a.createElement(C,{id:"currentPassword",value:e.dataForm.currentPassword,onChange:e.onChange,error:e.showErrors(e.errors.currentPassword)})),f.a.createElement("div",{className:sa.a.inputDiv},f.a.createElement("div",{className:sa.a.placeholder},f.a.createElement("p",null,"new"),e.notificationErrors(e.errors.newPassword)),f.a.createElement(C,{id:"newPassword",value:e.dataForm.newPassword,onChange:e.onChange,error:e.showErrors(e.errors.newPassword)})),f.a.createElement("div",{className:sa.a.buttons},f.a.createElement("button",{onClick:e.onSend},"Change"),f.a.createElement("button",{onClick:e.onClose},"Close"))))}var ia=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).elem=document.createElement("div"),document.body.append(n.elem),n}return Object(g.a)(a,[{key:"componentWillUnmount",value:function(){this.elem.remove()}},{key:"render",value:function(){return Object(S.createPortal)(f.a.createElement(ca,this.props),this.elem)}}]),a}(E.Component),la=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeDataForm=function(t){var a=t.fieldId,n=t.value.replace(/\W/gm,"");e.props.changeDataForm({fieldId:a,value:n})},e.notificationErrors=function(e){return""===e?f.a.createElement("p",null,"is required"):e.length<3?f.a.createElement("p",null,"minlength 3"):void 0},e.showErrors=function(e){if(""===e||e.length<3)return"error"},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(null!==this.props.user){var t=this.props.user.id;this.props.getUserInfo(t)}else setTimeout((function(){var t=e.props.user.id;e.props.getUserInfo(t)}),2e3)}},{key:"render",value:function(){var e=this,t=this.props.profile,a=t.userInfo,n=t.dataForm,r=t.errors,o=t.responseStatus;return f.a.createElement(f.a.Fragment,null,null!==a?f.a.createElement("div",{className:Zt.a.wrapper},f.a.createElement("div",{className:Zt.a.form},f.a.createElement("h1",null,"You profile"),f.a.createElement("div",{className:Zt.a.info},f.a.createElement("div",{className:Zt.a.avatar},f.a.createElement("img",{src:"http://school-blog.ru/images/".concat(a.avatar),alt:""})),f.a.createElement("span",null,"Login:"),f.a.createElement("span",null,"Password:"),f.a.createElement("span",null,"E-mail:"),f.a.createElement("span",null,"Firs name:"),f.a.createElement("span",null,"Last name:"),f.a.createElement("span",null,"Data:"),f.a.createElement("span",null,"Posts:"),f.a.createElement("span",null,"Like:"),f.a.createElement("span",null,"Dislike:"),f.a.createElement("p",null,a.login),f.a.createElement("button",{onClick:this.props.openModalWindow},"Change"),f.a.createElement("p",null,a.email),f.a.createElement("p",null,a.firstName),f.a.createElement("p",null,a.lastName),f.a.createElement("p",null,a.registrationDate.slice(0,10)),f.a.createElement("p",null,a.postsCount),f.a.createElement("p",null,a.likesCount),f.a.createElement("p",null,a.dislikesCount)))):f.a.createElement(ht,null),this.props.profile.modalWindow&&f.a.createElement(ia,{onClose:this.props.closeModalWindow,onChange:this.changeDataForm,dataForm:n,errors:r,onSend:function(){e.props.sendChangePassword(n)},notificationErrors:this.notificationErrors,showErrors:this.showErrors}),this.props.profile.changeSuccess&&f.a.createElement(st,{content:o.success?f.a.createElement("p",null,"password changed"):f.a.createElement("p",null,"current password incorrect"),didMountModalMessage:this.props.modalMessageClose}))}}]),a}(E.Component),ua=Object(v.c)((function(e){return{user:e.app.user,profile:e.profile}}),m)(la),pa=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.auth()}},{key:"render",value:function(){return f.a.createElement("div",{className:me.a.content},f.a.createElement(ge,{user:this.props.user,logout:this.props.logOut,activeLink:this.props.activeLink}),f.a.createElement("div",{className:me.a.page},f.a.createElement(re.c,null,f.a.createElement(re.a,{path:"/",exact:!0,component:it}),f.a.createElement(re.a,{path:"/about",exact:!0,component:we}),this.props.user&&f.a.createElement(re.a,{path:"/new-post",exact:!0,component:xe}),this.props.user&&f.a.createElement(re.a,{path:"/profile",exact:!0,component:ua}),f.a.createElement(re.a,{path:"/post/:id",exact:!0,component:Wt}),f.a.createElement(re.a,{path:"/my-posts",exact:!0,component:Xt}))),f.a.createElement("div",{className:me.a.bottomMenu},f.a.createElement("i",{className:"fas fa-bars"}),f.a.createElement("i",{className:"fas fa-blog"}),f.a.createElement("i",{className:"fas fa-angle-up"})))}}]),a}(E.Component),da=Object(v.c)((function(e){return{user:e.app.user,activeLink:e.app.activeLink}}),l)(pa),ma=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(re.c,null,f.a.createElement(re.a,{path:"/auth",component:pe}),f.a.createElement(re.a,{path:"/",component:da})))}}]),a}(E.Component),Ea=a(32),fa=a(109),Sa=a(20),ha=a(2),va={dataForm:{login:"",password:""},errors:{login:!1,password:!1}};function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN-IN_CHANGE_DATA_FORM":return Object(ha.a)({},e,{dataForm:Object(ha.a)({},e.dataForm,Object(Sa.a)({},t.payload.fieldId,t.payload.value)),errors:Object(ha.a)({},e.errors,Object(Sa.a)({},t.payload.fieldId,!1))});case"SIGN-IN_SUCCESS":return Object(ha.a)({},e,{dataForm:{login:"",password:""}});case"SIGN-IN_FAIL":return Object(ha.a)({},e,{errors:{login:t.payload.status,password:t.payload.status}});default:return e}}var ga=a(110),_a=a.n(ga),ya={dataForm:{login:"",email:"",firstName:"",password:""},errors:{login:!1,email:!1,firstName:!1,password:!1}};function Pa(e,t){var a=_a()(e);return Object.assign(a,t)}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN-UP_CHANGE_DATA_FORM":return Pa(e,{dataForm:Object(ha.a)({},e.dataForm,Object(Sa.a)({},t.payload.fieldId,t.payload.value)),errors:Object(ha.a)({},e.errors,Object(Sa.a)({},t.payload.fieldId,!1))});case"SIGN-UP_SUCCESS":return Object(ha.a)({},e,{dataForm:{login:"",email:"",firstName:"",password:""}});case"SIGN-UP_FAIL":return Object(ha.a)({},e,{errors:Object(ha.a)({},e.errors,{login:t.payload.login&&!0,email:t.payload.email&&!0,firstName:t.payload.firstName&&!0,password:t.payload.password&&!0})});case"SIGN-UP_CHECKLOGIN_SUCCESS":return Object(ha.a)({},e,{errors:Object(ha.a)({},e.errors,{login:!!t.payload.exists&&"not unique"})});default:return e}}var La=a(93),Ta=a(26),Ca=a(13),Aa=Object(Ca.a)(),Ia={dataForm:{title:"",content:""}};function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST_CHANGE_POST_TITLE":return{dataForm:Object(ha.a)({},e.dataForm,{title:t.title})};case"ADD-POST_CHANGE_POST_MESSAGE":return{dataForm:Object(ha.a)({},e.dataForm,{content:t.content})};case"NEW-POST-PAGE-SUCCESS":return{dataForm:Object(ha.a)({},e.dataForm,{title:"",content:""})};default:return e}}var ka=a(111),ja={user:null,activeLink:"home"};function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN-IN_SUCCESS":case"SIGN-UP_SUCCESS":case"APPLICATION-AUTH":return Object(ha.a)({},e,{user:t.payload});case"APPLICATION-LOGOUT":return Object(ha.a)({},e,{user:null});case"@@router/LOCATION_CHANGE":return Object(ha.a)({},e,{activeLink:t.payload.location.pathname});default:return e}}var Ma=a(25),Ua={posts:[],isLoading:!1,end:!1,modalMessage:!1},Da=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t.map((function(e){e.img=Dt()})),t};function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL-POST_INIT_GET_POSTS_SUCCESS":return Object(ha.a)({},e,{isLoading:!1,posts:Da(t.payload)});case"ALL-POST_INIT_GET_POSTS_REQUESTS":case"ALL-POST_SCROLL_GET_POSTS_REQUESTS":return Object(ha.a)({},e,{isLoading:!0});case"ALL-POST_SCROLL_GET_POSTS_SUCCESS":return Object(ha.a)({},e,{posts:[].concat(Object(Ma.a)(e.posts),Object(Ma.a)(Da(t.payload))),isLoading:!1,end:0===t.payload.length&&!0});case"ALL-POST_SCROLL_GET_POSTS_FAIL":return Object(ha.a)({},e,{isLoading:!1});case"ALL-POST_INCREASE_LIKE_SUCCESS":case"ALL-POST_INCREASE_DISLIKE_SUCCESS":return Object(ha.a)({},e,{posts:e.posts.map((function(e){if(e.id===t.payload.id){for(var a in e)"img"!==a&&(e[a]=t.payload[a]);return e}return e}))});case"ALL-POST_DELETE_POST_SUCCESS":var a=e.posts.findIndex((function(e){return e.id===t.payload.id}));return Object(ha.a)({},e,{posts:[].concat(Object(Ma.a)(e.posts.slice(0,a)),Object(Ma.a)(e.posts.slice(a+1)))});case"ALL-POST_SHOW_MODAL_MESSAGE":case"ALL-POST_CLOSE_MODAL_MESSAGE":return Object(ha.a)({},e,{modalMessage:!e.modalMessage});case"ALL-POST_STATE_TO_DEFAULT":return Object(ha.a)({},e,{posts:[],isLoading:!1,end:!1});default:return e}}var Ga={data:null,modalMessage:!1};function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST-PAGE_GET_DATA_SUCCESS":case"POST-PAGE_INCREASE_LIKE_SUCCESS":case"POST-PAGE_INCREASE_DISLIKE_SUCCESS":return Object(ha.a)({},e,{data:t.payload});case"POST-PAGE_DELETE_POST_SUCCESS":case"POST-PAGE_UNMOUNT":return Object(ha.a)({},e,{data:null});case"POST_SHOW_MODAL_MESSAGE":case"POST_CLOSE_MODAL_MESSAGE":return Object(ha.a)({},e,{modalMessage:!e.modalMessage});default:return e}}var xa={myPosts:[],isLoading:!1,end:!1,modalMessage:!1};function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY-POST_INIT_REQUEST":return Object(ha.a)({},e,{isLoading:!0});case"MY-POST_INIT_REQUEST_SUCCESS":return Object(ha.a)({},e,{isLoading:!1,myPosts:t.payload});case"MY-POST_SCROLL_GET_POSTS_REQUESTS":return Object(ha.a)({},e,{isLoading:!0});case"MY-POST_SCROLL_GET_POSTS_SUCCESS":return Object(ha.a)({},e,{myPosts:[].concat(Object(Ma.a)(e.myPosts),Object(Ma.a)(t.payload)),isLoading:!1,end:0===t.payload.length&&!0});case"MY-POST_INCREASE_LIKE_SUCCESS":case"MY-POST_INCREASE_DISLIKE_SUCCESS":return Object(ha.a)({},e,{myPosts:e.myPosts.map((function(e){if(e.id===t.payload.id){for(var a in e)e[a]=t.payload[a];return e}return e}))});case"MY-POST_DELETE_POST_SUCCESS":var a=e.myPosts.findIndex((function(e){return e.id===t.payload.id}));return Object(ha.a)({},e,{myPosts:[].concat(Object(Ma.a)(e.myPosts.slice(0,a)),Object(Ma.a)(e.myPosts.slice(a+1)))});case"MY-POST_STATE_TO_DEFAULT":return Object(ha.a)({},e,{myPosts:[],isLoading:!1,end:!1});case"MY-POST_SHOW_MODAL_MESSAGE":case"MY-POST_CLOSE_MODAL_MESSAGE":return Object(ha.a)({},e,{modalMessage:!e.modalMessage});default:return e}}var Ka={dataForm:{currentPassword:"",newPassword:""},errors:{currentPassword:!1,newPassword:!1},responseStatus:null,userInfo:null,isLoading:!1,modalWindow:!1,changeSuccess:!1};function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_GET_REQUEST":return Object(ha.a)({},e,{isLoading:!0});case"PROFILE_GET_REQUEST_SUCCESS":return Object(ha.a)({},e,{isLoading:!1,userInfo:t.payload});case"PROFILE_MODAL_WINDOW_OPEN":case"PROFILE_MODAL_WINDOW_CLOSE":return Object(ha.a)({},e,{modalWindow:!e.modalWindow});case"PROFILE_CHANGE_PASSWORD_FORM":return Object(ha.a)({},e,{dataForm:Object(ha.a)({},e.dataForm,Object(Sa.a)({},t.payload.fieldId,t.payload.value)),errors:Object(ha.a)({},e.errors,Object(Sa.a)({},t.payload.fieldId,!1))});case"PROFILE_CHANGE_PASSWORD_REQUEST":return Object(ha.a)({},e,{errors:{currentPassword:e.dataForm.currentPassword,newPassword:e.dataForm.newPassword}});case"PROFILE_CHANGE_PASSWORD_SUCCESS":return Object(ha.a)({},e,{dataForm:{currentPassword:"",newPassword:""},responseStatus:t.payload,modalWindow:!1,changeSuccess:!0});case"PROFILE_MODAL_MESSAGE_CLOSE":return Object(ha.a)({},e,{changeSuccess:!1});default:return e}}var Ha={authors:[]};function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ABOUT_GET_USERS_SUCCESS":return Object(ha.a)({},e,{authors:t.payload});case"ABOUT_SET_DEFAULT":return Object(ha.a)({},e,{authors:[]});default:return e}}var Ba,qa=Object(fa.createLogger)({collapsed:!0}),Ja=[Object(La.a)(Aa),qa,ka.a],Va=Object(Ea.d)((Ba=Aa,Object(Ea.c)({router:Object(Ta.b)(Ba),app:wa,signIn:Oa,singUp:ba,newPostPage:Na,allPosts:Ra,post:Fa,myPosts:Wa,profile:Qa,about:Ya})),Ea.a.apply(void 0,Ja));h.a.render(f.a.createElement(v.a,{store:Va},f.a.createElement(Ta.a,{history:Aa},f.a.createElement(ma,null))),document.getElementById("root"))},22:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},33:function(e,t,a){},37:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){e.exports={wrapper:"loaderPage_wrapper__1f7ii",form:"loaderPage_form__3DA_U",loader:"loaderPage_loader__2mNAb"}},62:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},97:function(e,t,a){e.exports=a.p+"static/media/user.ee551346.jpg"},98:function(e,t,a){e.exports={loader:"loader_loader__3XSaK"}},99:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.92117f59.chunk.js.map